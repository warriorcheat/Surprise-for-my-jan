<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Forever Begins ‚ú®</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  height:100vh;overflow:hidden;
  background:radial-gradient(circle at top,#120b1f,#05020a 70%);
  font-family:Poppins,sans-serif;color:#fff;
}
.card{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
.glass{
  width:92%;max-width:440px;padding:40px;border-radius:30px;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(35px);
  border:1px solid rgba(255,255,255,.18);
  text-align:center;
}
.hide{display:none}
h1,h2{font-family:'Playfair Display';margin-bottom:16px}
p{opacity:.9;margin-bottom:18px}

button{
  padding:14px 34px;border-radius:999px;border:none;
  background:linear-gradient(135deg,#d4af37,#fff1b8,#c89b3c);
  cursor:pointer;font-size:15px;
}

.finger{
  width:120px;height:120px;border-radius:50%;
  border:2px solid gold;font-size:46px;
  display:flex;align-items:center;justify-content:center;
  margin:18px auto;cursor:pointer;
}

/* voice */
.voice{
  width:70px;height:70px;border-radius:50%;
  border:2px solid #fff;font-size:32px;
  display:flex;align-items:center;justify-content:center;
  margin:10px auto;cursor:pointer;
}
.recording{background:red}

/* admin key */
.key{
  position:fixed;bottom:12px;right:12px;
  font-size:26px;cursor:pointer;opacity:.7;
}
</style>
</head>

<body>

<audio id="music" loop preload="auto" playsinline>
  <source src="https://github.com/warriorcheat/Surprise-for-my-jan/raw/refs/heads/main/music.mp3" type="audio/mpeg">
</audio>

<div class="card" id="start">
  <div class="glass">
    <h1>Tap to Begin ‚ú®</h1>
    <button onclick="begin()">Enter</button>
  </div>
</div>

<div class="card hide" id="proposal">
  <div class="glass">
    <h2>Say Kobul ‚ù§Ô∏è</h2>
    <p>Press mic and say your promise</p>

    <div class="voice" id="mic">üé§</div>

    <div class="finger" onclick="finish()">üñêÔ∏è</div>

    <div id="done" class="hide">
      <p style="color:gold">Marriage Complete üíç</p>
      <p>Now Abdullah is your husband ‚ù§Ô∏è</p>
    </div>
  </div>
</div>

<div class="key" onclick="admin()">üîë</div>

<script>
const music=document.getElementById("music");
let mediaRecorder, audioChunks=[], voiceBlob;

function begin(){
  music.play().catch(()=>{});
  document.getElementById("start").classList.add("hide");
  document.getElementById("proposal").classList.remove("hide");
}

/* voice record */
const mic=document.getElementById("mic");
mic.onclick=async ()=>{
  if(!mediaRecorder){
    const stream=await navigator.mediaDevices.getUserMedia({audio:true});
    mediaRecorder=new MediaRecorder(stream);
    mediaRecorder.ondataavailable=e=>audioChunks.push(e.data);
    mediaRecorder.onstop=()=>{
      voiceBlob=new Blob(audioChunks,{type:"audio/webm"});
      audioChunks=[];
      localStorage.setItem("voice",URL.createObjectURL(voiceBlob));
      mic.classList.remove("recording");
      mic.innerText="‚úîÔ∏è";
    };
    mediaRecorder.start();
    mic.classList.add("recording");
  }else{
    mediaRecorder.stop();
    mediaRecorder=null;
  }
};

function finish(){
  document.getElementById("done").classList.remove("hide");
}

/* admin */
function admin(){
  const pass=prompt("Admin Password:");
  if(pass==="112211"){
    const v=localStorage.getItem("voice");
    if(!v){alert("No voice recorded");return;}
    const a=document.createElement("audio");
    a.src=v;a.controls=true;
    const d=document.createElement("a");
    d.href=v;d.download="kobul_voice.webm";
    d.innerText="Download Voice";
    const w=document.createElement("div");
    w.style.position="fixed";
    w.style.inset="0";
    w.style.background="#000";
    w.style.padding="20px";
    w.append(a,document.createElement("br"),d);
    document.body.appendChild(w);
  }else alert("Wrong password");
}
</script>

</body>
</html>
