<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Forever & Always üíç</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  height:100vh;
  background:radial-gradient(circle at top,#160c2a,#05020a 70%);
  font-family:Poppins,sans-serif;
  color:#fff;
  overflow:hidden;
}

/* glow */
.bg-glow{
  position:absolute;inset:-20%;
  background:radial-gradient(circle at center,rgba(255,215,0,.15),transparent 60%);
  animation:rotate 40s linear infinite;
}
@keyframes rotate{to{transform:rotate(360deg)}}

/* particles */
.particle{
  position:absolute;width:6px;height:6px;border-radius:50%;
  background:radial-gradient(circle,#ffd27d,#c89b3c);
  animation:float 14s linear infinite;
}
@keyframes float{
  from{transform:translateY(110vh) scale(.6)}
  to{transform:translateY(-20vh) scale(1.2)}
}

/* card */
.card{
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  animation:fadeUp 1.6s ease;
}
@keyframes fadeUp{
  from{opacity:0;transform:translateY(60px) scale(.95)}
  to{opacity:1;transform:none}
}
.hide{display:none}

.glass{
  width:92%;max-width:480px;
  padding:45px;border-radius:34px;
  background:linear-gradient(145deg,rgba(255,255,255,.12),rgba(255,255,255,.04));
  backdrop-filter:blur(45px);
  border:1px solid rgba(255,255,255,.18);
  box-shadow:0 40px 120px rgba(0,0,0,.9);
  text-align:center;
}

h1,h2{font-family:'Playfair Display';margin-bottom:18px}
p{opacity:.9;margin-bottom:22px;font-size:17px}

input{
  width:100%;padding:14px;
  border-radius:999px;border:none;
  text-align:center;font-size:16px;
  margin-bottom:16px;
}

/* button */
button{
  padding:16px 42px;border-radius:999px;border:none;
  background:linear-gradient(135deg,#d4af37,#fff1b8,#c89b3c);
  box-shadow:0 20px 50px rgba(212,175,55,.85);
  font-size:15px;cursor:pointer;
  margin:6px;transition:.4s;
}
button:hover{transform:translateY(-4px) scale(1.08)}

/* icons */
.voice,.finger{
  width:130px;height:130px;border-radius:50%;
  border:2px solid gold;font-size:50px;
  display:flex;align-items:center;justify-content:center;
  margin:20px auto;cursor:pointer;
  animation:pulse 1.4s infinite;
}
@keyframes pulse{50%{transform:scale(1.12)}}
.recording{background:red}
</style>
</head>

<body>

<div class="bg-glow"></div>

<audio id="music" loop preload="auto" playsinline>
  <source src="https://github.com/warriorcheat/Surprise-for-my-jan/raw/refs/heads/main/music.mp3" type="audio/mpeg">
</audio>

<!-- LOGIN -->
<div class="card" id="login">
  <div class="glass">
    <h1>Forever & Always üíç</h1>
    <p>Enter your username</p>
    <input id="username" placeholder="Username">
    <button onclick="login()">Enter ‚ù§Ô∏è</button>
  </div>
</div>

<!-- STEP 1 -->
<div class="card hide" id="love">
  <div class="glass">
    <h1 id="welcomeText"></h1>
    <h2>Will you marry me?</h2>
    <button onclick="yes()">Yes üíç</button>
    <button onclick="alert('Destiny already chose us ‚ù§Ô∏è')">No ‚ùå</button>
  </div>
</div>

<!-- STEP 2 -->
<div class="card hide" id="kobul">
  <div class="glass">
    <h2>Say Kobul ‚ù§Ô∏è</h2>
    <div class="voice" id="mic">üé§</div>
    <button onclick="toFinger()">Continue</button>
  </div>
</div>

<!-- STEP 3 -->
<div class="card hide" id="finger">
  <div class="glass">
    <h2>Place Your Finger üñêÔ∏è</h2>
    <div class="finger" onclick="complete()">üñêÔ∏è</div>
  </div>
</div>

<!-- STEP 4 -->
<div class="card hide" id="done">
  <div class="glass">
    <h2 style="color:gold">Marriage Complete üíç</h2>
    <p id="finalNames"></p>
    <button onclick="downloadAll()">Download Marriage Certificate</button>
  </div>
</div>

<script>
/* particles */
for(let i=0;i<45;i++){
  const p=document.createElement("div");
  p.className="particle";
  p.style.left=Math.random()*100+"vw";
  p.style.animationDelay=Math.random()*8+"s";
  document.body.appendChild(p);
}

const music=document.getElementById("music");
let recorder,chunks=[],voiceURL=null;
let role="";

function login(){
  const u=document.getElementById("username").value.trim();
  if(u==="Prapti"){
    role="Bride";
  }else if(u==="Abdullah"){
    role="Groom";
  }else{
    alert("Invalid username");
    return;
  }
  loginDiv=document.getElementById("login");
  loginDiv.classList.add("hide");
  love.classList.remove("hide");

  welcomeText.innerText =
    role==="Bride"
    ? "Welcome Bride Prapti ‚ù§Ô∏è"
    : "Welcome Groom Abdullah ‚ù§Ô∏è";
}

function yes(){
  music.play().catch(()=>{});
  love.classList.add("hide");
  kobul.classList.remove("hide");
}

/* voice */
mic.onclick=async ()=>{
  if(!recorder){
    const stream=await navigator.mediaDevices.getUserMedia({audio:true});
    recorder=new MediaRecorder(stream);
    recorder.ondataavailable=e=>chunks.push(e.data);
    recorder.onstop=()=>{
      const blob=new Blob(chunks,{type:"audio/webm"});
      chunks=[];
      voiceURL=URL.createObjectURL(blob);
      mic.innerText="‚úîÔ∏è";
      mic.classList.remove("recording");
    };
    recorder.start();
    mic.classList.add("recording");
  }else{
    recorder.stop();recorder=null;
  }
};

function toFinger(){
  kobul.classList.add("hide");
  finger.classList.remove("hide");
}
function complete(){
  finger.classList.add("hide");
  done.classList.remove("hide");
  finalNames.innerText="Bride: Prapti  |  Groom: Abdullah";
}

/* download */
function downloadAll(){
  const text=`MARRIAGE CERTIFICATE

Bride: Prapti
Groom: Abdullah

Bond: Eternal ‚ù§Ô∏è`;
  const blob=new Blob([text],{type:"text/plain"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="Marriage_Certificate.txt";
  a.click();

  if(voiceURL){
    const v=document.createElement("a");
    v.href=voiceURL;
    v.download="Kobul_Voice.webm";
    v.click();
  }
}
</script>

</body>
</html>
